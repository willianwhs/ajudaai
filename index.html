<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJUDA AI — Profissionais perto de você</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
:root{
--azul:#0B5FFF;
--azul-escuro:#002C5B;
--amarelo:#FFB400;
--cinza:#F5F7FA;
--borda:#E6E9EF;
}

*{box-sizing:border-box}
body{margin:0;font-family:Inter,Arial;background:#fff;color:#222}

.container{max-width:1180px;margin:auto;padding:0 16px}

/* HEADER */
header{background:#fff;border-bottom:1px solid var(--borda);position:sticky;top:0;z-index:20}
.nav{display:flex;align-items:center;justify-content:space-between;height:64px}
.logo{display:flex;align-items:center;font-weight:800;font-size:20px;color:var(--azul)}
.logo img{width:26px;margin-right:8px}
.menu a{margin-left:18px;text-decoration:none;color:#333;font-weight:600}

/* HERO */
.hero{background:linear-gradient(135deg,var(--azul),var(--azul-escuro));color:#fff;padding:48px 0}
.hero h1{margin:0 0 8px;font-size:30px}
.hero p{opacity:.9;margin-bottom:20px}

.search-box{
display:flex;
background:#fff;
border-radius:14px;
overflow:hidden;
box-shadow:0 8px 20px rgba(0,0,0,.12)
}

.search-box input{
flex:1;border:none;padding:14px;font-size:15px
}

.search-box button{
background:var(--amarelo);
border:none;
padding:0 18px;
font-weight:700;
cursor:pointer
}

/* CHIPS */
.chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
.chip{
background:#fff3cc;
color:#8a6d00;
padding:6px 10px;
border-radius:20px;
font-size:13px;
cursor:pointer
}

/* CATEGORIAS */
.categories{padding:26px 0;background:var(--cinza)}
.cat-scroll{display:flex;gap:14px;overflow-x:auto;padding-bottom:6px}
.cat{
min-width:110px;
background:#fff;
border:1px solid var(--borda);
border-radius:12px;
padding:14px;
text-align:center;
cursor:pointer;
transition:.2s
}
.cat:hover{border-color:var(--amarelo);transform:translateY(-2px)}
.cat img{width:30px;margin-bottom:6px}

/* FEED */
.feed{padding:28px 0}
.card{
border:1px solid var(--borda);
border-radius:12px;
padding:14px;
margin-bottom:12px;
box-shadow:0 3px 10px rgba(0,0,0,.04)
}
.card h3{margin:0 0 4px}

/* MAPA */
.map-section{padding:20px 0}
#map{
height:260px;
border-radius:14px;
border:1px solid var(--borda)
}

/* CTA */
.cta{background:var(--azul);color:#fff;padding:32px 0;text-align:center}
.btn{
padding:10px 16px;
border:none;
border-radius:10px;
font-weight:700;
cursor:pointer
}
.btn-amarelo{background:var(--amarelo)}

/* MODAL */
.modal-bg{
position:fixed;
inset:0;
background:rgba(0,0,0,.5);
display:none;
align-items:center;
justify-content:center;
z-index:999
}
.modal{
background:#fff;
border-radius:14px;
padding:20px;
width:92%;
max-width:420px
}
.modal input{
width:100%;
padding:10px;
margin-bottom:10px;
border:1px solid var(--borda);
border-radius:8px
}
.close{float:right;font-weight:700;cursor:pointer}

/* MOBILE */
@media(max-width:768px){
.hero h1{font-size:22px}
.search-box{flex-direction:column}
.search-box button{width:100%;padding:12px}
.cat{min-width:95px}
}
</style>
</head>

<body>

<header>
<div class="container nav">
<div class="logo">
<img src="https://cdn-icons-png.flaticon.com/512/684/684908.png">
AJUDA AI
</div>
<div class="menu">
<a href="#feed">Serviços</a>
<a href="#map">Perto de mim</a>
<a onclick="openModal()">Cadastrar prestador</a>
</div>
</div>
</header>

<section class="hero">
<div class="container">
<h1>Encontre profissionais perto de você</h1>
<p>Solicite serviços e receba respostas rápidas</p>

<div class="search-box">
<input id="busca" placeholder="Qual serviço você precisa?">
<button onclick="filtrar()">Buscar</button>
</div>

<div class="chips">
<div class="chip" onclick="setBusca('eletricista')">Eletricista</div>
<div class="chip" onclick="setBusca('diarista')">Diarista</div>
<div class="chip" onclick="setBusca('encanador')">Encanador</div>
<div class="chip" onclick="setBusca('montador')">Montador</div>
</div>

</div>
</section>

<section class="categories">
<div class="container">
<div class="cat-scroll">
<div class="cat" onclick="setBusca('reforma')">
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046857.png"><div>Reformas</div>
</div>
<div class="cat" onclick="setBusca('eletrica')">
<img src="https://cdn-icons-png.flaticon.com/512/2921/2921822.png"><div>Elétrica</div>
</div>
<div class="cat" onclick="setBusca('limpeza')">
<img src="https://cdn-icons-png.flaticon.com/512/3050/3050525.png"><div>Limpeza</div>
</div>
<div class="cat" onclick="setBusca('pintura')">
<img src="https://cdn-icons-png.flaticon.com/512/1995/1995574.png"><div>Pintura</div>
</div>
<div class="cat" onclick="setBusca('aulas')">
<img src="https://cdn-icons-png.flaticon.com/512/1998/1998610.png"><div>Aulas</div>
</div>
</div>
</div>
</section>

<section id="feed" class="feed">
<div class="container">
<h2>Profissionais disponíveis</h2>
<div id="prestadores"></div>
</div>
</section>

<section class="map-section">
<div class="container">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
<h2>Perto de você</h2>
<button class="btn btn-amarelo" onclick="pertoDeMim()">Perto de mim</button>
</div>
<div id="map"></div>
</div>
</section>

<section class="cta">
<div class="container">
<h2>É profissional?</h2>
<button class="btn btn-amarelo" onclick="openModal()">Cadastre-se grátis</button>
</div>
</section>

<footer>
<div class="container">
AJUDA AI — Marketplace de serviços locais
</div>
</footer>

<!-- MODAL CADASTRO -->
<div class="modal-bg" id="modal">
<div class="modal">
<span class="close" onclick="closeModal()">×</span>
<h3>Cadastro de prestador</h3>

<form action="https://docs.google.com/forms/d/e/1FAIpQLSf8J459p0bqDGLWIOO7lEAYP4brd44-j-073lC4FJNxAgPjVA/formResponse"
method="POST"
target="hidden_iframe">

<input name="entry.1030652642" placeholder="Nome" required>
<input name="entry.556677889" placeholder="Serviço" required>
<input name="entry.778899001" placeholder="Cidade" required>
<input name="entry.998877665" placeholder="WhatsApp" required>

<button class="btn btn-amarelo" type="submit">Enviar</button>
</form>

</div>
</div>

<iframe name="hidden_iframe" style="display:none"></iframe>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
function openModal(){document.getElementById('modal').style.display='flex'}
function closeModal(){document.getElementById('modal').style.display='none'}

let mapa=L.map('map').setView([-23.55,-46.63],11)
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'© OpenStreetMap'}).addTo(mapa)

let todos=[]

async function carregarPrestadores(){
const url='https://opensheet.elk.sh/1ImYSb5Cih3eGu7jqU3zjLTbvNvGTuhGjeTKSTo5_j7M/Página1'
const res=await fetch(url)
todos=await res.json()
render(todos)
}

function render(lista){
const box=document.getElementById('prestadores')
box.innerHTML=''
mapa.eachLayer(l=>{if(l instanceof L.Marker)mapa.removeLayer(l)})

lista.forEach(p=>{
const el=document.createElement('div')
el.className='card'
el.innerHTML=`<h3>${p.nome}</h3><div>${p.servico} • ${p.cidade}</div>`
box.appendChild(el)

if(p.lat && p.lng){
L.marker([parseFloat(p.lat),parseFloat(p.lng)]).addTo(mapa)
.bindPopup(`<b>${p.nome}</b><br>${p.servico}`)
}
})
}

function filtrar(){
const t=document.getElementById('busca').value.toLowerCase()
const f=todos.filter(p=>
(p.servico && p.servico.toLowerCase().includes(t)) ||
(p.cidade && p.cidade.toLowerCase().includes(t))
)
render(f)
}

function setBusca(v){
document.getElementById('busca').value=v
filtrar()
}

function pertoDeMim(){
navigator.geolocation.getCurrentPosition(pos=>{
const lat=pos.coords.latitude
const lng=pos.coords.longitude
mapa.setView([lat,lng],13)
})
}

carregarPrestadores()
</script>

</body>
</html>
