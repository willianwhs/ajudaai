<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ajuda Aí — Serviços perto de você</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Poppins',sans-serif;
background:#eef4f9;
color:#1c2b36;
}

/* HEADER */
header{
position:fixed;
top:0;
width:100%;
background:white;
box-shadow:0 4px 20px rgba(0,0,0,0.08);
z-index:999;
}

.nav{
max-width:1200px;
margin:auto;
display:flex;
justify-content:space-between;
align-items:center;
padding:16px 20px;
}

.logo{
font-weight:800;
font-size:28px;
}

.logo span.azul{ color:#1f4ed8; }
.logo span.amarelo{ color:#FFB800; }

.menu a{
margin-left:24px;
text-decoration:none;
color:#2F3A45;
font-weight:600;
}

.btn-cadastrar{
background:#FFB800;
color:#1c2b36;
padding:10px 20px;
border-radius:12px;
font-weight:700;
}

/* HERO */
.hero{
padding-top:140px;
padding-bottom:90px;
background:linear-gradient(135deg,#1f4ed8,#3b82f6);
text-align:center;
color:white;
}

.hero h1{
font-size:42px;
margin-bottom:12px;
}

.search-box{
margin-top:30px;
display:flex;
justify-content:center;
gap:10px;
flex-wrap:wrap;
}

.search-box input{
padding:14px;
border-radius:12px;
border:none;
width:260px;
}

.search-box button{
padding:14px 20px;
border:none;
border-radius:12px;
background:#FFB800;
font-weight:700;
cursor:pointer;
}

/* FILTROS DINÂMICOS */
.filtros{
margin-top:30px;
display:flex;
justify-content:center;
gap:12px;
flex-wrap:wrap;
}

.filtro{
background:white;
color:#1f4ed8;
padding:8px 16px;
border-radius:30px;
font-weight:600;
cursor:pointer;
}

/* SEÇÕES */
.section{
max-width:1200px;
margin:auto;
padding:80px 20px;
}

/* FEED */
.feed{
background:white;
padding:30px;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,0.05);
}

.feed-top{
display:flex;
justify-content:space-between;
margin-bottom:20px;
flex-wrap:wrap;
gap:10px;
}

.feed-top button{
background:#1f4ed8;
color:white;
border:none;
padding:10px 18px;
border-radius:10px;
cursor:pointer;
font-weight:600;
}

.pedido{
background:#f3f8ff;
padding:18px;
border-radius:14px;
margin-bottom:12px;
display:flex;
justify-content:space-between;
align-items:center;
}

.pedido button{
background:#FFB800;
border:none;
padding:8px 14px;
border-radius:8px;
font-weight:700;
cursor:pointer;
}

footer{
background:#1c2b36;
color:white;
padding:50px 20px;
text-align:center;
}

.cta-final{
background:#FFB800;
color:#1c2b36;
padding:18px 40px;
border-radius:16px;
font-weight:800;
display:inline-block;
margin-top:20px;
}
</style>
</head>

<body>

<header>
<div class="nav">
<div class="logo">
<span class="azul">Ajuda</span> <span class="amarelo">Aí</span>
</div>
<div class="menu">
<a href="#">Categorias</a>
<a href="#">Prestadores</a>
<a href="#">Pedidos</a>
<a href="#">Sobre</a>
<a href="#" class="btn-cadastrar">Cadastrar</a>
</div>
</div>
</header>

<section class="hero">
<h1>Encontre profissionais confiáveis perto de você</h1>

<div class="search-box">
<input type="text" placeholder="Qual serviço você precisa?">
<input type="text" id="local" placeholder="Sua localização">
<button onclick="usarLocalizacao()">Perto de mim</button>
</div>

<div class="filtros">
<div class="filtro">Eletricista</div>
<div class="filtro">Diarista</div>
<div class="filtro">Encanador</div>
<div class="filtro">Pintor</div>
</div>
</section>

<section class="section">
<h2>Pedidos em aberto</h2>

<div class="feed">

<div class="feed-top">
<button onclick="usarLocalizacao()">Minha localização</button>
<button onclick="abrirPublicar()">Publicar pedido</button>
</div>

<div id="formPublicar" style="display:none; margin-top:20px;">
<input type="text" id="cliente_nome" placeholder="Seu nome" style="width:100%;padding:12px;margin-bottom:10px;border-radius:10px;border:1px solid #ddd;">
<input type="text" id="cliente_whatsapp" placeholder="Seu WhatsApp" style="width:100%;padding:12px;margin-bottom:10px;border-radius:10px;border:1px solid #ddd;">
<input type="text" id="servico" placeholder="Serviço" style="width:100%;padding:12px;margin-bottom:10px;border-radius:10px;border:1px solid #ddd;">
<input type="text" id="cidade" placeholder="Cidade" style="width:100%;padding:12px;margin-bottom:10px;border-radius:10px;border:1px solid #ddd;">
<textarea id="descricao" placeholder="Descreva o problema" style="width:100%;padding:12px;margin-bottom:10px;border-radius:10px;border:1px solid #ddd;"></textarea>
<button onclick="publicarPedido()" style="background:#FFB800;border:none;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;">Enviar Pedido</button>
</div>

<div id="listaPedidos"></div>

</div>
</section>

<footer>
<h2>Ajuda Aí — Conectando pessoas com confiança</h2>
<a href="#" class="cta-final">Cadastrar como Prestador</a>
</footer>

<script>
function usarLocalizacao(){
if(navigator.geolocation){
navigator.geolocation.getCurrentPosition(function(){
document.getElementById("local").value="Localização detectada";
});
}
}

function abrirPublicar(){
const form = document.getElementById("formPublicar");
form.style.display = form.style.display === "none" ? "block" : "none";
}

function publicarPedido(){
const data = {
cliente_nome: document.getElementById("cliente_nome").value,
cliente_whatsapp: document.getElementById("cliente_whatsapp").value,
servico: document.getElementById("servico").value,
cidade: document.getElementById("cidade").value,
descricao: document.getElementById("descricao").value,
status:"aberto",
data:new Date().toISOString()
};

fetch("https://hook.us2.make.com/ypef1r8ydqmibjw9hzqykntaltatqfgh",{
method:"POST",
headers:{ "Content-Type":"application/json"},
body:JSON.stringify(data)
}).then(()=>{ alert("Pedido publicado!"); });
}

const URL_PEDIDOS="https://raw.githubusercontent.com/willianwhs/ajudaai/main/pedidos.json";

fetch(URL_PEDIDOS)
.then(res=>res.json())
.then(data=>{
if(!data.pedidos) return;
const container=document.getElementById("listaPedidos");

data.pedidos.reverse().forEach(p=>{
const div=document.createElement("div");
div.className="pedido";
div.innerHTML=`
<div>
<strong>${p.servico}</strong><br>
${p.cidade}
</div>
<button onclick="window.open('https://wa.me/55${p.cliente_whatsapp}','_blank')">Prestar serviço</button>
`;
container.appendChild(div);
});
});
</script>

</body>
</html>
