<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJUDAAI ‚Ä¢ Encontre profissionais perto de voc√™</title>

<style>
:root{
--azul:#1E3A8A;
--amarelo:#FFC107;
--cinza:#f4f6f8;
--escuro:#222;
--whatsapp:#25D366;
}

*{box-sizing:border-box}
body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:var(--cinza);
color:var(--escuro);
}

header{
background:#fff;
padding:28px 16px;
text-align:center;
border-bottom:3px solid var(--amarelo);
}

.logo{
font-size:34px;
font-weight:900;
}
.logo span:first-child{color:var(--azul)}
.logo span:last-child{color:var(--amarelo)}

.hero{
max-width:900px;
margin:30px auto;
text-align:center;
padding:0 16px;
}

.hero h2{
font-size:28px;
margin-bottom:8px;
}
.hero p{
color:#555;
font-size:16px;
}

.busca{
display:flex;
flex-wrap:wrap;
gap:10px;
justify-content:center;
margin-top:20px;
}

input{
padding:14px;
border-radius:10px;
border:1px solid #ddd;
min-width:260px;
font-size:15px;
}

button{
padding:14px 18px;
border-radius:10px;
border:none;
cursor:pointer;
font-weight:bold;
font-size:15px;
transition:.2s;
}

.btn-azul{background:var(--azul);color:#fff}
.btn-amarelo{background:var(--amarelo);color:#000}
button:hover{opacity:.9}

#mapa{
display:none;
max-width:1100px;
height:260px;
margin:30px auto 0;
border-radius:16px;
overflow:hidden;
box-shadow:0 6px 18px rgba(0,0,0,.1);
}

.container{
max-width:1100px;
margin:auto;
padding:20px 16px;
}

.resultado-header{
display:none;
margin-bottom:16px;
}

.resultado-header h3{
margin:0;
}

.ads{
display:none;
background:#fff;
border-radius:14px;
padding:18px;
margin:20px 0;
text-align:center;
color:#888;
font-size:14px;
}

.cards{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
gap:20px;
}

.card{
background:#fff;
padding:20px;
border-radius:16px;
box-shadow:0 6px 18px rgba(0,0,0,.08);
position:relative;
transition:.2s;
}
.card:hover{transform:translateY(-5px)}

.selo{
position:absolute;
top:12px;
right:12px;
background:var(--azul);
color:#fff;
padding:4px 10px;
border-radius:20px;
font-size:12px;
}

.distancia{
margin:6px 0;
font-weight:bold;
color:var(--azul);
}

.botao{
display:block;
margin-top:10px;
padding:10px;
border-radius:8px;
text-decoration:none;
font-weight:bold;
text-align:center;
}

.whatsapp{background:var(--whatsapp);color:#fff}
.avaliar{background:var(--azul);color:#fff}

.footer{
text-align:center;
padding:30px 16px;
color:#666;
font-size:14px;
}
</style>
</head>

<body>

<header>
<div class="logo"><span>AJUDA</span><span>AI</span></div>
</header>

<section class="hero">
<h2>Encontre profissionais confi√°veis perto de voc√™</h2>
<p>Eletricistas, diaristas, pedreiros, encanadores e muito mais ‚Äî avaliados pela comunidade.</p>

<div class="busca">
<input id="busca" placeholder="Buscar servi√ßo ou cidade">
<button class="btn-amarelo" onclick="buscar()">Buscar</button>
<button class="btn-azul" onclick="localizacao()">üìç Perto de mim</button>
</div>
</section>

<div id="mapa"></div>

<div class="container">

<div class="resultado-header" id="resultadoHeader">
<h3>Resultados encontrados</h3>
</div>

<!-- ESPA√áO ADSENSE (TOPO DOS RESULTADOS) -->
<div class="ads" id="adsTopo">
Publicidade
</div>

<div class="cards" id="lista"></div>

<!-- ESPA√áO ADSENSE (MEIO DA LISTA) -->
<div class="ads" id="adsMeio">
Publicidade
</div>

</div>

<div class="footer">
AJUDAAI ¬© Plataforma independente de conex√£o entre clientes e prestadores
</div>

<script>
const URL_JSON="https://raw.githubusercontent.com/willianwhs/ajudaai/main/prestadores.json";
let prestadores=[];
let userLat=null, userLng=null;

fetch(URL_JSON).then(r=>r.json()).then(d=>prestadores=d);

function distancia(lat1,lng1,lat2,lng2){
const R=6371;
const dLat=(lat2-lat1)*Math.PI/180;
const dLng=(lng2-lng1)*Math.PI/180;
const a=Math.sin(dLat/2)**2+
Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*
Math.sin(dLng/2)**2;
return R*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));
}

function buscar(){
const t=document.getElementById("busca").value.toLowerCase();
render(prestadores.filter(p=>
p.nome.toLowerCase().includes(t)||
p.servico.toLowerCase().includes(t)||
p.cidade.toLowerCase().includes(t)
));
}

function localizacao(){
navigator.geolocation.getCurrentPosition(pos=>{
userLat=pos.coords.latitude;
userLng=pos.coords.longitude;

prestadores.forEach(p=>{
p.dist=userLat?distancia(userLat,userLng,p.lat,p.lng):null;
});

prestadores.sort((a,b)=>(a.dist||999)-(b.dist||999));
render(prestadores);
});
}

function render(lista){
document.getElementById("mapa").style.display="block";
document.getElementById("resultadoHeader").style.display="block";
document.getElementById("adsTopo").style.display="block";
document.getElementById("adsMeio").style.display="block";

const c=document.getElementById("lista");
c.innerHTML="";

lista.forEach((p,i)=>{
const estrelas=p.media?"‚≠ê".repeat(Math.round(p.media)):"Sem avalia√ß√µes";
const km=p.dist!=null?`üìç ${p.dist.toFixed(1)} km`:"";

c.innerHTML+=`
<div class="card">
${p.verificado?'<div class="selo">‚úî Verificado</div>':''}
<h3>${p.nome}</h3>
<div>${p.servico}</div>
<div>${p.cidade}</div>
<div class="distancia">${km}</div>
<div>${estrelas}</div>
<a class="botao whatsapp" href="https://wa.me/55${p.whatsapp}" target="_blank">WhatsApp</a>
<a class="botao avaliar" href="#">Avaliar</a>
</div>
`;
});
}
</script>

</body>
</html>
